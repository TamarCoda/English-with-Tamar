<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Past Tenses Interactive Worksheet</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        * {
            box-sizing: border-box;
        }

        body {
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .worksheet-container {
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            color: white;
        }

        .header h1 {
            margin: 0 0 15px 0;
            font-size: 2.2rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .tense-badges {
            display: flex;
            justify-content: center;
            gap: 10px;
            flex-wrap: wrap;
        }

        .badge {
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .past-simple {
            background: #FF6B6B;
            color: white;
        }

        .past-progressive {
            background: #4ECDC4;
            color: white;
        }

        .progress-container {
            margin-bottom: 20px;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(255,255,255,0.3);
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4CAF50, #8BC34A);
            transition: width 0.3s ease;
        }

        .progress-text {
            text-align: center;
            margin-top: 8px;
            color: white;
            font-weight: bold;
        }

        .score-display {
            text-align: center;
            color: white;
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 20px;
            background: rgba(255,255,255,0.2);
            padding: 10px;
            border-radius: 10px;
        }

        .question-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .context-hint {
            background: #E3F2FD;
            border: 2px solid #2196F3;
            border-radius: 10px;
            padding: 12px;
            margin-bottom: 20px;
            font-weight: bold;
            color: #1976D2;
            text-align: center;
        }

        .question-text {
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 25px;
            text-align: center;
            color: #333;
            line-height: 1.4;
        }

        .options-container {
            display: grid;
            gap: 12px;
            margin-bottom: 25px;
        }

        .option-button {
            padding: 15px 20px;
            border: 2px solid #ddd;
            border-radius: 12px;
            background: white;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .option-button:hover:not(:disabled) {
            border-color: #667eea;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .option-button.selected {
            border-color: #667eea;
            background: #667eea;
            color: white;
        }

        .option-button.correct {
            border-color: #4CAF50;
            background: #4CAF50;
            color: white;
        }

        .option-button.incorrect {
            border-color: #F44336;
            background: #F44336;
            color: white;
        }

        .option-button:disabled {
            cursor: not-allowed;
        }

        .feedback-container {
            margin-bottom: 25px;
        }

        .feedback {
            padding: 20px;
            border-radius: 12px;
            border-left: 5px solid;
        }

        .feedback.correct {
            background: #E8F5E8;
            border-color: #4CAF50;
        }

        .feedback.incorrect {
            background: #FFEBEE;
            border-color: #F44336;
        }

        .feedback-icon {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .explanation {
            font-size: 1rem;
            line-height: 1.5;
            color: #555;
        }

        .button-container {
            text-align: center;
        }

        .submit-button, .next-button, .retry-button {
            padding: 15px 30px;
            font-size: 1.1rem;
            font-weight: bold;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 150px;
        }

        .submit-button {
            background: #667eea;
            color: white;
        }

        .submit-button:disabled {
            background: #ccc;
            cursor: not-allowed;
        }

        .next-button {
            background: #4CAF50;
            color: white;
        }

        .retry-button {
            background: #FF9800;
            color: white;
            font-size: 1.2rem;
            padding: 18px 35px;
        }

        .submit-button:hover:not(:disabled), .next-button:hover, .retry-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
        }

        .completion-card {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            text-align: center;
        }

        .completion-header h2 {
            color: #333;
            margin-bottom: 20px;
        }

        .final-score {
            font-size: 3rem;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .percentage {
            font-size: 1.5rem;
            color: #666;
            margin-bottom: 30px;
        }

        .results-summary {
            text-align: left;
            margin-bottom: 30px;
        }

        .results-summary h3 {
            text-align: center;
            color: #333;
            margin-bottom: 20px;
        }

        .result-item {
            display: flex;
            align-items: center;
            padding: 12px;
            margin-bottom: 10px;
            border-radius: 8px;
            border-left: 4px solid;
        }

        .result-item.correct {
            background: #E8F5E8;
            border-color: #4CAF50;
        }

        .result-item.incorrect {
            background: #FFEBEE;
            border-color: #F44336;
        }

        .question-number {
            font-weight: bold;
            margin-right: 15px;
            min-width: 30px;
        }

        .result-details {
            flex: 1;
        }

        .correct-answer {
            color: #4CAF50;
            font-weight: bold;
        }

        .wrong-answer {
            color: #F44336;
            font-weight: bold;
        }

        .result-icon {
            font-size: 1.2rem;
            margin-left: 10px;
        }

        /* Mobile Responsiveness */
        @media (max-width: 768px) {
            .worksheet-container {
                padding: 15px;
            }
            
            .header h1 {
                font-size: 1.8rem;
            }
            
            .question-text {
                font-size: 1.1rem;
            }
            
            .option-button {
                padding: 12px 15px;
                font-size: 1rem;
            }
            
            .final-score {
                font-size: 2.5rem;
            }
            
            .tense-badges {
                flex-direction: column;
                align-items: center;
            }
            
            .badge {
                margin: 2px 0;
            }
        }

        @media (max-width: 480px) {
            .worksheet-container {
                padding: 10px;
            }
            
            .question-card {
                padding: 20px;
            }
            
            .header h1 {
                font-size: 1.6rem;
            }
            
            .question-text {
                font-size: 1rem;
            }
            
            .final-score {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        const TenseWorksheet = () => {
            const [currentQuestion, setCurrentQuestion] = useState(0);
            const [score, setScore] = useState(0);
            const [selectedAnswer, setSelectedAnswer] = useState('');
            const [showFeedback, setShowFeedback] = useState(false);
            const [completed, setCompleted] = useState(false);
            const [answers, setAnswers] = useState([]);

            const questions = [
                {
                    id: 1,
                    sentence: "Yesterday, I _____ my homework when my friend called.",
                    options: ["did", "was doing", "were doing", "done"],
                    correct: "was doing",
                    explanation: "Use past progressive (was/were + -ing) for an action in progress when another action interrupted it.",
                    context: "Past Progressive - interrupted action"
                },
                {
                    id: 2,
                    sentence: "She _____ to the store and bought some milk.",
                    options: ["was going", "went", "were going", "goes"],
                    correct: "went",
                    explanation: "Use past simple for completed actions in the past. 'Went' and 'bought' are both completed actions.",
                    context: "Past Simple - completed action"
                },
                {
                    id: 3,
                    sentence: "While they _____ dinner, the phone rang.",
                    options: ["ate", "were eating", "was eating", "eating"],
                    correct: "were eating",
                    explanation: "Use past progressive with 'while' to show an ongoing action. 'They' requires 'were'.",
                    context: "Past Progressive - ongoing action with 'while'"
                },
                {
                    id: 4,
                    sentence: "He _____ his keys and couldn't enter the house.",
                    options: ["was losing", "were losing", "lost", "loses"],
                    correct: "lost",
                    explanation: "Use past simple for completed actions. Losing keys is a completed event, not ongoing.",
                    context: "Past Simple - completed event"
                },
                {
                    id: 5,
                    sentence: "At 8 PM last night, we _____ TV.",
                    options: ["watched", "were watching", "was watching", "watch"],
                    correct: "were watching",
                    explanation: "Use past progressive for actions happening at a specific time in the past. 'We' requires 'were'.",
                    context: "Past Progressive - specific time"
                },
                {
                    id: 6,
                    sentence: "The children _____ in the park when it started to rain.",
                    options: ["played", "were playing", "was playing", "play"],
                    correct: "were playing",
                    explanation: "Use past progressive for ongoing action interrupted by another event. 'Children' (plural) requires 'were'.",
                    context: "Past Progressive - interrupted action"
                },
                {
                    id: 7,
                    sentence: "I _____ three cups of coffee this morning.",
                    options: ["was drinking", "drank", "were drinking", "drink"],
                    correct: "drank",
                    explanation: "Use past simple for completed actions with specific quantities or finished time periods.",
                    context: "Past Simple - completed action with quantity"
                },
                {
                    id: 8,
                    sentence: "What _____ you _____ when I saw you yesterday?",
                    options: ["did/do", "were/doing", "was/doing", "do/do"],
                    correct: "were/doing",
                    explanation: "Use past progressive in questions about ongoing actions at a specific past time. 'You' always takes 'were' in past progressive.",
                    context: "Past Progressive - question form"
                },
                {
                    id: 9,
                    sentence: "Last week, I _____ my grandmother every day.",
                    options: ["visited", "was visiting", "were visiting", "visit"],
                    correct: "visited",
                    explanation: "Use past simple for repeated actions in a finished time period. 'Last week' indicates a completed time frame.",
                    context: "Past Simple - repeated actions in finished time"
                },
                {
                    id: 10,
                    sentence: "The students _____ when the teacher entered the classroom.",
                    options: ["talked", "were talking", "was talking", "talk"],
                    correct: "were talking",
                    explanation: "Use past progressive for ongoing actions interrupted by another event. 'Students' (plural) requires 'were'.",
                    context: "Past Progressive - interrupted ongoing action"
                }
            ];

            const handleAnswerSelect = (answer) => {
                setSelectedAnswer(answer);
            };

            const handleSubmit = () => {
                const isCorrect = selectedAnswer === questions[currentQuestion].correct;
                const newAnswer = {
                    question: currentQuestion,
                    selected: selectedAnswer,
                    correct: questions[currentQuestion].correct,
                    isCorrect: isCorrect
                };
                
                setAnswers([...answers, newAnswer]);
                
                if (isCorrect) {
                    setScore(score + 1);
                }
                
                setShowFeedback(true);
            };

            const handleNext = () => {
                if (currentQuestion < questions.length - 1) {
                    setCurrentQuestion(currentQuestion + 1);
                    setSelectedAnswer('');
                    setShowFeedback(false);
                } else {
                    setCompleted(true);
                }
            };

            const resetQuiz = () => {
                setCurrentQuestion(0);
                setScore(0);
                setSelectedAnswer('');
                setShowFeedback(false);
                setCompleted(false);
                setAnswers([]);
            };

            const getScoreColor = () => {
                const percentage = (score / questions.length) * 100;
                if (percentage >= 80) return '#4CAF50';
                if (percentage >= 60) return '#FF9800';
                return '#F44336';
            };

            if (completed) {
                return (
                    <div className="worksheet-container">
                        <div className="header">
                            <h1>üìö Past Tenses Practice</h1>
                            <div className="tense-badges">
                                <span className="badge past-simple">Past Simple</span>
                                <span className="badge past-progressive">Past Progressive</span>
                            </div>
                        </div>
                        
                        <div className="completion-card">
                            <div className="completion-header">
                                <h2>üéâ Quiz Completed!</h2>
                                <div className="final-score" style={{ color: getScoreColor() }}>
                                    {score}/{questions.length}
                                </div>
                                <div className="percentage">
                                    {Math.round((score / questions.length) * 100)}%
                                </div>
                            </div>
                            
                            <div className="results-summary">
                                <h3>üìä Your Results:</h3>
                                {answers.map((answer, index) => (
                                    <div key={index} className={`result-item ${answer.isCorrect ? 'correct' : 'incorrect'}`}>
                                        <div className="question-number">Q{index + 1}</div>
                                        <div className="result-details">
                                            <div className={answer.isCorrect ? 'correct-answer' : 'wrong-answer'}>
                                                Your answer: {answer.selected}
                                            </div>
                                            {!answer.isCorrect && (
                                                <div className="correct-answer">
                                                    Correct answer: {answer.correct}
                                                </div>
                                            )}
                                        </div>
                                        <div className="result-icon">
                                            {answer.isCorrect ? '‚úÖ' : '‚ùå'}
                                        </div>
                                    </div>
                                ))}
                            </div>
                            
                            <button className="retry-button" onClick={resetQuiz}>
                                üîÑ Try Again
                            </button>
                        </div>
                    </div>
                );
            }

            const question = questions[currentQuestion];

            return (
                <div className="worksheet-container">
                    <div className="header">
                        <h1>üìö Past Tenses Practice</h1>
                        <div className="tense-badges">
                            <span className="badge past-simple">Past Simple</span>
                            <span className="badge past-progressive">Past Progressive</span>
                        </div>
                    </div>
                    
                    <div className="progress-container">
                        <div className="progress-bar">
                            <div 
                                className="progress-fill" 
                                style={{ width: `${((currentQuestion + 1) / questions.length) * 100}%` }}
                            ></div>
                        </div>
                        <div className="progress-text">
                            Question {currentQuestion + 1} of {questions.length}
                        </div>
                    </div>

                    <div className="score-display">
                        Score: {score}/{questions.length}
                    </div>

                    <div className="question-card">
                        <div className="context-hint">
                            üí° {question.context}
                        </div>
                        
                        <div className="question-text">
                            {question.sentence}
                        </div>

                        <div className="options-container">
                            {question.options.map((option, index) => (
                                <button
                                    key={index}
                                    className={`option-button ${selectedAnswer === option ? 'selected' : ''} ${
                                        showFeedback 
                                            ? option === question.correct 
                                                ? 'correct' 
                                                : selectedAnswer === option 
                                                    ? 'incorrect' 
                                                    : ''
                                            : ''
                                    }`}
                                    onClick={() => handleAnswerSelect(option)}
                                    disabled={showFeedback}
                                >
                                    {option}
                                </button>
                            ))}
                        </div>

                        {showFeedback && (
                            <div className="feedback-container">
                                <div className={`feedback ${selectedAnswer === question.correct ? 'correct' : 'incorrect'}`}>
                                    <div className="feedback-icon">
                                        {selectedAnswer === question.correct ? '‚úÖ Correct!' : '‚ùå Incorrect'}
                                    </div>
                                    <div className="explanation">
                                        <strong>Explanation:</strong> {question.explanation}
                                    </div>
                                </div>
                            </div>
                        )}

                        <div className="button-container">
                            {!showFeedback ? (
                                <button 
                                    className="submit-button" 
                                    onClick={handleSubmit}
                                    disabled={!selectedAnswer}
                                >
                                    Submit Answer
                                </button>
                            ) : (
                                <button className="next-button" onClick={handleNext}>
                                    {currentQuestion < questions.length - 1 ? 'Next Question ‚Üí' : 'View Results üéØ'}
                                </button>
                            )}
                        </div>
                    </div>
                </div>
            );
        };

        ReactDOM.render(<TenseWorksheet />, document.getElementById('root'));
    </script>
</body>
</html>